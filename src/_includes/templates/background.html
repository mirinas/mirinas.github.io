<svg viewBox="0 0 10 5" width="100%" height="100%" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient" cx="0.75" cy="0.25" r="0.25">
            <stop offset="0%" stop-color="grey" />
            <stop offset="100%" stop-color="white" />
        </radialGradient>
        <pattern id="pattern">

        </pattern>
    </defs>
    <rect width="100%" height="100%" fill="url(#folk-pattern)"/>
</svg>
{% include "assets/folk_pattern.svg" %}

<script>

    function setBackgroundFrame(frame) {

        const frameTo2DPosition = f => {
            let q = (f % 400) / 400;
            if(q <= 0.25) return [0.75, 0.25 + q * 2];
            if(q <= 0.5) return [1.25 - q * 2, 0.75];
            if(q <= 0.75) return [0.25, 1.75 - q * 2];
            if(q <= 1) return [-1.25 + q * 2, 0.25];
        };

        const b = document.querySelector('#gradient');
        
        let pos = frameTo2DPosition(frame);
        b.setAttribute('cx', pos[0]);
        b.setAttribute('cy', pos[1]);
        b.setAttribute('r', 0.1 + (f % 400) / 1200)
    }

    document.addEventListener('wheel', () => {
        const offset = document.body.getBoundingClientRect().top;
        setBackgroundFrame(-offset);
    });
</script>